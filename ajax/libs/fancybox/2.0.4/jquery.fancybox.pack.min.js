(function(e,t,n){var r=n(e),i=n(t),a=n.fancybox=function(){a.open.apply(this,arguments)},o=!1,s=null;n.extend(a,{version:"2.0.4",defaults:{padding:15,margin:20,width:800,height:600,minWidth:200,minHeight:200,maxWidth:9999,maxHeight:9999,autoSize:!0,fitToView:!0,aspectRatio:!1,topRatio:.5,fixed:!n.browser.msie||n.browser.version>6||!t.documentElement.hasOwnProperty("ontouchstart"),scrolling:"auto",wrapCSS:"fancybox-default",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,modal:!1,loop:!0,ajax:{},keys:{next:[13,32,34,39,40],prev:[8,33,37,38],close:[27]},tpl:{wrap:'<div class="fancybox-wrap"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe class="fancybox-iframe" name="fancybox-frame{rnd}" frameborder="0" hspace="0" '+(n.browser.msie?'allowtransparency="true""':"")+' scrolling="{scrolling}" src="{href}"></iframe>',swf:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="wmode" value="transparent" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{href}" /><embed src="{href}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="100%" height="100%" wmode="transparent"></embed></object>',error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<div title="Close" class="fancybox-item fancybox-close"></div>',next:'<a title="Next" class="fancybox-item fancybox-next"><span></span></a>',prev:'<a title="Previous" class="fancybox-item fancybox-prev"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:300,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:300,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:{speedIn:0,speedOut:300,opacity:.8,css:{cursor:"pointer"},closeClick:!0},title:{type:"float"}}},group:{},opts:{},coming:null,current:null,isOpen:!1,isOpened:!1,wrap:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(e,t){n.isArray(e)||(e=[e]),e.length&&(a.close(!0),a.opts=n.extend(!0,{},a.defaults,t),a.group=e,a._start(a.opts.index||0))},cancel:function(){a.coming&&!1===a.trigger("onCancel")||(a.coming=null,a.hideLoading(),a.ajaxLoad&&a.ajaxLoad.abort(),a.ajaxLoad=null,!a.imgPreload)||(a.imgPreload.onload=a.imgPreload.onabort=a.imgPreload.onerror=null)},close:function(e){a.cancel(),a.current&&!1!==a.trigger("beforeClose")&&(a.unbindEvents(),!a.isOpen||e&&!0===e[0]?(n(".fancybox-wrap").stop().trigger("onReset").remove(),a._afterZoomOut()):(a.isOpen=a.isOpened=!1,n(".fancybox-item").remove(),a.wrap.stop(!0).removeClass("fancybox-opened"),a.inner.css("overflow","hidden"),a.transitions[a.current.closeMethod]()))},play:function(e){var t=function(){clearTimeout(a.player.timer)},r=function(){t(),a.current&&a.player.isActive&&(a.player.timer=setTimeout(a.next,a.current.playSpeed))},i=function(){t(),n("body").unbind(".player"),a.player.isActive=!1,a.trigger("onPlayEnd")};a.player.isActive||e&&!1===e[0]?i():a.current&&(a.current.loop||a.current.index<a.group.length-1)&&(a.player.isActive=!0,n("body").bind({"afterShow.player onUpdate.player":r,"onCancel.player beforeClose.player":i,"beforeLoad.player":t}),r(),a.trigger("onPlayStart"))},next:function(){a.current&&a.jumpto(a.current.index+1)},prev:function(){a.current&&a.jumpto(a.current.index-1)},jumpto:function(e){a.current&&(e=parseInt(e,10),a.group.length>1&&a.current.loop&&(e>=a.group.length?e=0:0>e&&(e=a.group.length-1)),a.group[e]!==void 0&&(a.cancel(),a._start(e)))},reposition:function(e){a.isOpen&&a.wrap.css(a._getPosition(e))},update:function(){a.isOpen&&(o||(s=setInterval(function(){o&&(o=!1,clearTimeout(s),a.current)&&(a.current.autoSize&&(a.inner.height("auto"),a.current.height=a.inner.height()),a._setDimension(),a.current.canGrow&&a.inner.height("auto"),a.reposition(),a.trigger("onUpdate"))},100)),o=!0)},toggle:function(){a.isOpen&&(a.current.fitToView=!a.current.fitToView,a.update())},hideLoading:function(){n("#fancybox-loading").remove()},showLoading:function(){a.hideLoading(),n('<div id="fancybox-loading"></div>').click(a.cancel).appendTo("body")},getViewport:function(){return{x:r.scrollLeft(),y:r.scrollTop(),w:r.width(),h:r.height()}},unbindEvents:function(){a.wrap&&a.wrap.unbind(".fb"),i.unbind(".fb"),r.unbind(".fb")},bindEvents:function(){var e=a.current,t=e.keys;e&&(r.bind("resize.fb, orientationchange.fb",a.update),t&&i.bind("keydown.fb",function(e){var r;e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||!(0>n.inArray(e.target.tagName.toLowerCase(),["input","textarea","select","button"]))||(r=e.keyCode,n.inArray(r,t.close)>-1?(a.close(),e.preventDefault()):n.inArray(r,t.next)>-1?(a.next(),e.preventDefault()):n.inArray(r,t.prev)>-1&&(a.prev(),e.preventDefault()))}),n.fn.mousewheel&&e.mouseWheel&&a.group.length>1&&a.wrap.bind("mousewheel.fb",function(e,t){var r=n(e.target).get(0);(0===r.clientHeight||r.scrollHeight===r.clientHeight)&&(e.preventDefault(),a[t>0?"prev":"next"]())}))},trigger:function(e){var t,r=a[n.inArray(e,["onCancel","beforeLoad","afterLoad"])>-1?"coming":"current"];if(r){if(n.isFunction(r[e])&&(t=r[e].apply(r,Array.prototype.slice.call(arguments,1))),!1===t)return!1;r.helpers&&n.each(r.helpers,function(t,i){i&&a.helpers[t]!==void 0&&n.isFunction(a.helpers[t][e])&&a.helpers[t][e](i,r)}),n.event.trigger(e+".fb")}},isImage:function(e){return e&&e.match(/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i)},isSWF:function(e){return e&&e.match(/\.(swf)(.*)?$/i)},_start:function(e){var t,r,i,o={},s=a.group[e]||null;"object"==typeof s&&(s.nodeType||s instanceof n)&&(t=!0,n.metadata&&(o=n(s).metadata())),o=n.extend(!0,{},a.opts,{index:e,element:s},n.isPlainObject(s)?s:o),n.each(["href","title","content","type"],function(e,r){o[r]=a.opts[r]||t&&n(s).attr(r)||o[r]||null}),"number"==typeof o.margin&&(o.margin=[o.margin,o.margin,o.margin,o.margin]),o.modal&&n.extend(!0,o,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{css:{cursor:"auto"},closeClick:!1}}}),a.coming=o,!1===a.trigger("beforeLoad")?a.coming=null:(r=o.type,e=o.href,r||(t&&(i=n(s).data("fancybox-type"),!i&&s.className&&(r=(i=s.className.match(/fancybox\.(\w+)/))?i[1]:null)),!r&&e&&(a.isImage(e)?r="image":a.isSWF(e)?r="swf":e.match(/^#/)&&(r="inline")),r||(r=t?"inline":"html"),o.type=r),"inline"===r||"html"===r?(o.content=o.content||("inline"===r&&e?n(e):s),o.content.length||(r=null)):(o.href=e||s,o.href||(r=null)),o.group=a.group,"image"===r?a._loadImage():"ajax"===r?a._loadAjax():r?a._afterLoad():a._error("type"))},_error:function(e){n.extend(a.coming,{type:"html",autoSize:!0,minHeight:"0",hasError:e,content:a.coming.tpl.error}),a._afterLoad()},_loadImage:function(){a.imgPreload=new Image,a.imgPreload.onload=function(){this.onload=this.onerror=null,a.coming.width=this.width,a.coming.height=this.height,a._afterLoad()},a.imgPreload.onerror=function(){this.onload=this.onerror=null,a._error("image")},a.imgPreload.src=a.coming.href,a.imgPreload.complete||a.showLoading()},_loadAjax:function(){a.showLoading(),a.ajaxLoad=n.ajax(n.extend({},a.coming.ajax,{url:a.coming.href,error:function(e,t){"abort"!==t?a._error("ajax",e):a.hideLoading()},success:function(e,t){"success"===t&&(a.coming.content=e,a._afterLoad())}}))},_preload:function(){var e=a.group,t=a.current.index,r=function(e){e&&a.isImage(e)&&((new Image).src=e)};e.length>1&&(r(n(e[t+1]||e[0]).attr("href")),r(n(e[t-1]||e[e.length-1]).attr("href")))},_afterLoad:function(){a.hideLoading(),a.coming&&!1!==a.trigger("afterLoad",a.current)?(a.isOpened?(n(".fancybox-item").remove(),a.wrap.stop(!0).removeClass("fancybox-opened"),a.inner.css("overflow","hidden"),a.transitions[a.current.prevMethod]()):(n(".fancybox-wrap").stop().trigger("onReset").remove(),a.trigger("afterClose")),a.unbindEvents(),a.isOpen=!1,a.current=a.coming,a.coming=!1,a.wrap=n(a.current.tpl.wrap).addClass("fancybox-tmp "+a.current.wrapCSS).appendTo("body"),a.outer=n(".fancybox-outer",a.wrap).css("padding",a.current.padding+"px"),a.inner=n(".fancybox-inner",a.wrap),a._setContent(),a.trigger("beforeShow"),a._setDimension(),a.wrap.hide().removeClass("fancybox-tmp"),a.bindEvents(),a._preload(),a.transitions[a.isOpened?a.current.nextMethod:a.current.openMethod]()):a.coming=!1},_setContent:function(){var e,t,r=a.current,i=r.type;switch(i){case"inline":case"ajax":case"html":e=r.content,"inline"===i&&e instanceof n&&(e=e.show().detach(),e.parent().hasClass("fancybox-inner")&&e.parents(".fancybox-wrap").trigger("onReset").remove(),n(a.wrap).bind("onReset",function(){e.appendTo("body").hide()})),r.autoSize&&(t=n('<div class="fancybox-tmp"></div>').appendTo(n("body")).append(e),r.width=t.outerWidth(),r.height=t.outerHeight(!0),e=t.contents().detach(),t.remove());break;case"image":e=r.tpl.image.replace("{href}",r.href),r.aspectRatio=!0;break;case"swf":e=r.tpl.swf.replace(/\{width\}/g,r.width).replace(/\{height\}/g,r.height).replace(/\{href\}/g,r.href);break;case"iframe":e=r.tpl.iframe.replace("{href}",r.href).replace("{scrolling}",r.scrolling).replace("{rnd}",(new Date).getTime())}n.inArray(i,["image","swf","iframe"])>-1&&(r.autoSize=!1,r.scrolling=!1),a.inner.append(e)},_setDimension:function(){var e=a.wrap,t=a.outer,r=a.inner,i=a.current,o=a.getViewport(),s=i.margin,l=2*i.padding,c=i.width+l,u=i.height+l,d=i.width/i.height,p=i.maxWidth,h=i.maxHeight,m=i.minWidth,g=i.minHeight;if(o.w-=s[1]+s[3],o.h-=s[0]+s[2],(""+c).indexOf("%")>-1&&(c=o.w*parseFloat(c)/100),(""+u).indexOf("%")>-1&&(u=o.h*parseFloat(u)/100),i.fitToView&&(p=Math.min(o.w,p),h=Math.min(o.h,h)),m=Math.min(c,m),g=Math.min(c,g),p=Math.max(m,p),h=Math.max(g,h),i.aspectRatio?(c>p&&(c=p,u=(c-l)/d+l),u>h&&(u=h,c=(u-l)*d+l),m>c&&(c=m,u=(c-l)/d+l),g>u&&(u=g,c=(u-l)*d+l)):(c=Math.max(m,Math.min(c,p)),u=Math.max(g,Math.min(u,h))),c=Math.round(c),u=Math.round(u),n(e.add(t).add(r)).width("auto").height("auto"),r.width(c-l).height(u-l),e.width(c),s=e.height(),c>p||s>h)for(;(c>p||s>h)&&c>m&&s>g;)u-=10,i.aspectRatio?(c=Math.round((u-l)*d+l),m>c&&(c=m,u=(c-l)/d+l)):c-=10,r.width(c-l).height(u-l),e.width(c),s=e.height();i.dim={width:c,height:s},i.canGrow=i.autoSize&&u>g&&h>u,i.canShrink=!1,i.canExpand=!1,i.width>c-l||i.height>u-l?i.canExpand=!0:(c>o.w||s>o.h)&&c>m&&u>g&&(i.canShrink=!0),e=s-l,a.innerSpace=e-r.height(),a.outerSpace=e-t.height()},_getPosition:function(e){var t=a.current,n=a.getViewport(),r=t.margin,i=a.wrap.width()+r[1]+r[3],o=a.wrap.height()+r[0]+r[2],s={position:"absolute",top:r[0]+n.y,left:r[3]+n.x};return t.fixed&&(!e||!1===e[0])&&n.h>=o&&n.w>=i&&(s={position:"fixed",top:r[0],left:r[3]}),s.top=Math.ceil(Math.max(s.top,s.top+(n.h-o)*t.topRatio))+"px",s.left=Math.ceil(Math.max(s.left,s.left+.5*(n.w-i)))+"px",s},_afterZoomIn:function(){var e=a.current;a.isOpen=a.isOpened=!0,a.wrap.addClass("fancybox-opened").css("overflow","visible"),a.update(),a.inner.css("overflow","auto"===e.scrolling?"auto":"yes"===e.scrolling?"scroll":"hidden"),(e.closeClick||e.nextClick)&&a.inner.css("cursor","pointer").bind("click.fb",e.nextClick?a.next:a.close),e.closeBtn&&n(e.tpl.closeBtn).appendTo(a.wrap).bind("click.fb",a.close),e.arrows&&a.group.length>1&&((e.loop||e.index>0)&&n(e.tpl.prev).appendTo(a.wrap).bind("click.fb",a.prev),(e.loop||e.index<a.group.length-1)&&n(e.tpl.next).appendTo(a.wrap).bind("click.fb",a.next)),a.trigger("afterShow"),a.opts.autoPlay&&!a.player.isActive&&(a.opts.autoPlay=!1,a.play())},_afterZoomOut:function(){a.trigger("afterClose"),a.wrap.trigger("onReset").remove(),n.extend(a,{group:{},opts:{},current:null,isOpened:!1,isOpen:!1,wrap:null,outer:null,inner:null})}}),a.transitions={getOrigPosition:function(){var e,t=a.current.element,r={},i=50,o=50;return t&&t.nodeName&&n(t).is(":visible")?(e=n(t).find("img:first"),e.length?(r=e.offset(),i=e.outerWidth(),o=e.outerHeight()):r=n(t).offset()):(t=a.getViewport(),r.top=t.y+.5*(t.h-o),r.left=t.x+.5*(t.w-i)),r={top:Math.ceil(r.top)+"px",left:Math.ceil(r.left)+"px",width:Math.ceil(i)+"px",height:Math.ceil(o)+"px"}},step:function(e,t){var n,r,i;("width"===t.prop||"height"===t.prop)&&(r=i=Math.ceil(e-2*a.current.padding),"height"===t.prop&&(n=(e-t.start)/(t.end-t.start),t.start>t.end&&(n=1-n),r-=a.innerSpace*n,i-=a.outerSpace*n),a.inner[t.prop](r),a.outer[t.prop](i))},zoomIn:function(){var e,t,r=a.wrap,i=a.current;e=i.dim,"elastic"===i.openEffect?(t=n.extend({},e,a._getPosition(!0)),delete t.position,e=this.getOrigPosition(),i.openOpacity&&(e.opacity=0,t.opacity=1),r.css(e).show().animate(t,{duration:i.openSpeed,easing:i.openEasing,step:this.step,complete:a._afterZoomIn})):(r.css(n.extend({},e,a._getPosition())),"fade"===i.openEffect?r.fadeIn(i.openSpeed,a._afterZoomIn):(r.show(),a._afterZoomIn()))},zoomOut:function(){var e,t=a.wrap,n=a.current;"elastic"===n.closeEffect?("fixed"===t.css("position")&&t.css(a._getPosition(!0)),e=this.getOrigPosition(),n.closeOpacity&&(e.opacity=0),t.animate(e,{duration:n.closeSpeed,easing:n.closeEasing,step:this.step,complete:a._afterZoomOut})):t.fadeOut("fade"===n.closeEffect?n.closeSpeed:0,a._afterZoomOut)},changeIn:function(){var e,t=a.wrap,n=a.current;"elastic"===n.nextEffect?(e=a._getPosition(!0),e.opacity=0,e.top=parseInt(e.top,10)-200+"px",t.css(e).show().animate({opacity:1,top:"+=200px"},{duration:n.nextSpeed,complete:a._afterZoomIn})):(t.css(a._getPosition()),"fade"===n.nextEffect?t.hide().fadeIn(n.nextSpeed,a._afterZoomIn):(t.show(),a._afterZoomIn()))},changeOut:function(){var e=a.wrap,t=a.current,r=function(){n(this).trigger("onReset").remove()};e.removeClass("fancybox-opened"),"elastic"===t.prevEffect?e.animate({opacity:0,top:"+=200px"},{duration:t.prevSpeed,complete:r}):e.fadeOut("fade"===t.prevEffect?t.prevSpeed:0,r)}},a.helpers.overlay={overlay:null,update:function(){var e,a;this.overlay.width(0).height(0),n.browser.msie?(e=Math.max(t.documentElement.scrollWidth,t.body.scrollWidth),a=Math.max(t.documentElement.offsetWidth,t.body.offsetWidth),e=a>e?r.width():e):e=i.width(),this.overlay.width(e).height(i.height())},beforeShow:function(e){this.overlay||(this.overlay=n('<div id="fancybox-overlay"></div>').css(e.css||{background:"black"}).appendTo("body"),this.update(),e.closeClick&&this.overlay.bind("click.fb",a.close),r.bind("resize.fb",n.proxy(this.update,this)),this.overlay.fadeTo(e.speedIn||"fast",e.opacity||1))},onUpdate:function(){this.update()},afterClose:function(e){this.overlay&&this.overlay.fadeOut(e.speedOut||"fast",function(){n(this).remove()}),this.overlay=null}},a.helpers.title={beforeShow:function(e){var t;(t=a.current.title)&&(t=n('<div class="fancybox-title fancybox-title-'+e.type+'-wrap">'+t+"</div>").appendTo("body"),"float"===e.type&&(t.width(t.width()),t.wrapInner('<span class="child"></span>'),a.current.margin[2]+=Math.abs(parseInt(t.css("margin-bottom"),10))),t.appendTo("over"===e.type?a.inner:"outside"===e.type?a.wrap:a.outer))}},n.fn.fancybox=function(e){function t(e){var t,i=[],s=this.rel;e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.preventDefault(),e=n(this).data("fancybox-group"),e!==void 0?t=e?"data-fancybox-group":!1:s&&""!==s&&"nofollow"!==s&&(e=s,t="rel"),t&&(i=o.length?n(o).filter("["+t+'="'+e+'"]'):n("["+t+'="'+e+'"]')),i.length?(r.index=i.index(this),a.open(i.get(),r)):a.open(this,r))}var r=e||{},o=this.selector||"";return o?i.undelegate(o,"click.fb-start").delegate(o,"click.fb-start",t):n(this).unbind("click.fb-start").bind("click.fb-start",t),this}})(window,document,jQuery);