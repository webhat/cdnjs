(function(e,t,n){"use strict";var i={bodyHeight:0,selector:".has-tip",additionalInheritableClasses:[],tooltipClass:".tooltip",tipTemplate:function(e,t){return'<span data-selector="'+e+'" class="'+i.tooltipClass.substring(1)+'">'+t+'<span class="nub"></span></span>'}},r={init:function(t){return i=e.extend(i,t),i.selector=i.targetClass?i.targetClass:i.selector,this.each(function(){var t=e("body");Modernizr.touch?(t.on("click.tooltip touchstart.tooltip touchend.tooltip",i.selector,function(t){t.preventDefault(),e(i.tooltipClass).hide(),r.showOrCreateTip(e(this))}),t.on("click.tooltip touchstart.tooltip touchend.tooltip",i.tooltipClass,function(t){t.preventDefault(),e(this).fadeOut(150)})):t.on("mouseenter.tooltip mouseleave.tooltip",i.selector,function(t){var n=e(this);"mouseenter"===t.type?r.showOrCreateTip(n):"mouseleave"===t.type&&r.hide(n)}),e(this).data("tooltips",!0)})},showOrCreateTip:function(e,t){var n=r.getTip(e);n&&n.length>0?r.show(e):r.create(e,t)},getTip:function(t){var n=r.selector(t),o=null;return n&&(o=e("span[data-selector="+n+"]"+i.tooltipClass)),o.length>0?o:!1},selector:function(e){var t=e.attr("id"),i=e.data("selector");return t===n&&i===n&&(i="tooltip"+Math.random().toString(36).substring(7),e.attr("data-selector",i)),t?t:i},create:function(t,n){var o=e(i.tipTemplate(r.selector(t),e("<div>").html(n?n:t.attr("title")).html())),a=r.inheritable_classes(t);o.addClass(a).appendTo("body"),Modernizr.touch&&o.append('<span class="tap-to-close">tap to close </span>'),t.removeAttr("title"),r.show(t)},reposition:function(n,i,r){var o,a,s,l,c,u;if(i.css("visibility","hidden").show(),o=n.data("width"),a=i.children(".nub"),s=a.outerHeight(),l=a.outerWidth(),u=function(e,t,n,i,r,o){return e.css({top:t,bottom:i,left:r,right:n,"max-width":o?o:"auto"}).end()},u(i,n.offset().top+n.outerHeight()+10,"auto","auto",n.offset().left,o),u(a,-s,"auto","auto",10),767>e(t).width()){if(n.data("mobile-width"))i.width(n.data("mobile-width")).css("left",15).addClass("tip-override");else if(c=n.closest(".columns"),0>c.length&&(c=e("body")),c.outerWidth())i.width(c.outerWidth()-25).css("left",15).addClass("tip-override");else{var d=Math.ceil(.9*e(t).width());i.width(d).css("left",15).addClass("tip-override")}u(a,-s,"auto","auto",n.offset().left)}else r&&r.indexOf("tip-top")>-1?(u(i,n.offset().top-i.outerHeight()-s,"auto","auto",n.offset().left,o).removeClass("tip-override"),u(a,"auto","auto",-s,"auto")):r&&r.indexOf("tip-left")>-1?(u(i,n.offset().top+n.outerHeight()/2-s,"auto","auto",n.offset().left-i.outerWidth()-10,o).removeClass("tip-override"),u(a,i.outerHeight()/2-s/2,-s,"auto","auto")):r&&r.indexOf("tip-right")>-1?(u(i,n.offset().top+n.outerHeight()/2-s,"auto","auto",n.offset().left+n.outerWidth()+10,o).removeClass("tip-override"),u(a,i.outerHeight()/2-s/2,"auto","auto",-s)):r&&r.indexOf("tip-centered-top")>-1?(u(i,n.offset().top-i.outerHeight()-s,"auto","auto",n.offset().left+(n.outerWidth()-i.outerWidth())/2,o).removeClass("tip-override"),u(a,"auto",i.outerWidth()/2-s/2,-s,"auto")):r&&r.indexOf("tip-centered-bottom")>-1&&(u(i,n.offset().top+n.outerHeight()+10,"auto","auto",n.offset().left+(n.outerWidth()-i.outerWidth())/2,o).removeClass("tip-override"),u(a,-s,i.outerWidth()/2-s/2,"auto","auto"));i.css("visibility","visible").hide()},inheritable_classes:function(t){var r=["tip-top","tip-left","tip-bottom","tip-right","tip-centered-top","tip-centered-bottom","noradius"].concat(i.additionalInheritableClasses),o=t.attr("class"),a=o?e.map(o.split(" "),function(t){return-1!==e.inArray(t,r)?t:n}).join(" "):"";return e.trim(a)},show:function(e){var t=r.getTip(e);r.reposition(e,t,e.attr("class")),t.fadeIn(150)},hide:function(e){var t=r.getTip(e);t.fadeOut(150)},reload:function(){var t=e(this);return t.data("tooltips")?t.foundationTooltips("destroy").foundationTooltips("init"):t.foundationTooltips("init")},destroy:function(){return this.each(function(){e(t).off(".tooltip"),e(i.selector).off(".tooltip"),e(i.tooltipClass).each(function(t){e(e(i.selector).get(t)).attr("title",e(this).text())}).remove()})}};e.fn.foundationTooltips=function(t){return r[t]?r[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?(e.error("Method "+t+" does not exist on jQuery.foundationTooltips"),n):r.init.apply(this,arguments)}})(jQuery,this);