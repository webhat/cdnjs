(function(e){function t(t,n,s){var l=t.success,c=e.extend({},t.data||{},{"start-min":i(n,"u"),"start-max":i(s,"u"),singleevents:!0,"max-results":9999}),u=t.currentTimezone;return u&&(c.ctz=u=u.replace(" ","_")),e.extend({},t,{url:t.url.replace(/\/basic$/,"/full")+"?alt=json-in-script&callback=?",dataType:"jsonp",data:c,startParam:!1,endParam:!1,success:function(t){var n=[];t.feed.entry&&e.each(t.feed.entry,function(t,i){var a,s=i.gd$when[0].startTime,l=r(s,!0),c=r(i.gd$when[0].endTime,!0),d=-1==s.indexOf("T");e.each(i.link,function(e,t){"text/html"==t.type&&(a=t.href,u&&(a+=(-1==a.indexOf("?")?"?":"&")+"ctz="+u))}),d&&o(c,-1),n.push({id:i.gCal$uid.value,title:i.title.$t,url:a,start:l,end:c,allDay:d,location:i.gd$where[0].valueString,description:i.content.$t})});var i=[n].concat(Array.prototype.slice.call(arguments,1)),s=a(l,this,i);return e.isArray(s)?s:n}})}var n=e.fullCalendar,i=n.formatDate,r=n.parseISO8601,o=n.addDays,a=n.applyAll;n.sourceNormalizers.push(function(e){("gcal"==e.dataType||void 0===e.dataType&&(e.url||"").match(/^(http|https):\/\/www.google.com\/calendar\/feeds\//))&&(e.dataType="gcal",void 0===e.editable&&(e.editable=!1))}),n.sourceFetchers.push(function(e,n,i){return"gcal"==e.dataType?t(e,n,i):void 0}),n.gcalFeed=function(t,n){return e.extend({},n,{url:t,dataType:"gcal"})}})(jQuery);