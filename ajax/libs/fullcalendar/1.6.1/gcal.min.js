(function(t){function e(e,n,a){var l=e.success,c=t.extend({},e.data||{},{"start-min":i(n,"u"),"start-max":i(a,"u"),singleevents:!0,"max-results":9999}),u=e.currentTimezone;return u&&(c.ctz=u=u.replace(" ","_")),t.extend({},e,{url:e.url.replace(/\/basic$/,"/full")+"?alt=json-in-script&callback=?",dataType:"jsonp",data:c,startParam:!1,endParam:!1,success:function(e){var n=[];e.feed.entry&&t.each(e.feed.entry,function(e,i){var o,a=i.gd$when[0].startTime,l=s(a,!0),c=s(i.gd$when[0].endTime,!0),d=-1==a.indexOf("T");t.each(i.link,function(t,e){"text/html"==e.type&&(o=e.href,u&&(o+=(-1==o.indexOf("?")?"?":"&")+"ctz="+u))}),d&&r(c,-1),n.push({id:i.gCal$uid.value,title:i.title.$t,url:o,start:l,end:c,allDay:d,location:i.gd$where[0].valueString,description:i.content.$t})});var i=[n].concat(Array.prototype.slice.call(arguments,1)),a=o(l,this,i);return t.isArray(a)?a:n}})}var n=t.fullCalendar,i=n.formatDate,s=n.parseISO8601,r=n.addDays,o=n.applyAll;n.sourceNormalizers.push(function(t){("gcal"==t.dataType||void 0===t.dataType&&(t.url||"").match(/^(http|https):\/\/www.google.com\/calendar\/feeds\//))&&(t.dataType="gcal",void 0===t.editable&&(t.editable=!1))}),n.sourceFetchers.push(function(t,n,i){return"gcal"==t.dataType?e(t,n,i):void 0}),n.gcalFeed=function(e,n){return t.extend({},n,{url:e,dataType:"gcal"})}})(jQuery);