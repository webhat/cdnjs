(function(e){var t=e.each,n=function(e){this.init(e)};e.extend(n.prototype,{init:function(e){this.options=e,this.columns=[],this.parseCSV(),this.parseTable(),this.parseTypes(),this.findHeaderRow(),this.parsed(),this.complete()},parseCSV:function(){var e=this.options,n=e.csv,i=this.columns,r=e.startRow||0,o=e.endRow||Number.MAX_VALUE,a=e.startColumn||0,s=e.endColumn||Number.MAX_VALUE;n&&(n=n.split(e.lineDelimiter||"\n"),t(n,function(n,l){if(l>=r&&o>=l){var c=n.split(e.itemDelimiter||",");t(c,function(e,t){t>=a&&s>=t&&(i[t-a]||(i[t-a]=[]),i[t-a][l-r]=e)})}}))},parseTable:function(){var e,n=this.options,i=n.table,r=this.columns,o=n.startRow||0,a=n.endRow||Number.MAX_VALUE,s=n.startColumn||0,l=n.endColumn||Number.MAX_VALUE;i&&("string"==typeof i&&(i=document.getElementById(i)),t(i.getElementsByTagName("tr"),function(n,i){e=0,i>=o&&a>=i&&t(n.childNodes,function(t){("TD"===t.tagName||"TH"===t.tagName)&&e>=s&&l>=e&&(r[e]||(r[e]=[]),r[e][i-o]=t.innerHTML,e+=1)})}))},findHeaderRow:function(){t(this.columns,function(){}),this.headerRow=0},trim:function(e){return e.replace(/^\s+|\s+$/g,"")},parseTypes:function(){for(var e,t,n,i,r=this.columns,o=r.length;o--;)for(e=r[o].length;e--;)t=r[o][e],n=parseFloat(t),i=this.trim(t),i==n?(r[o][e]=n,n>31536e6?r[o].isDatetime=!0:r[o].isNumeric=!0):(t=Date.parse(t),0!==o||"number"!=typeof t||isNaN(t)?r[o][e]=i:(r[o][e]=t,r[o].isDatetime=!0))},parsed:function(){this.options.parsed&&this.options.parsed.call(this,this.columns)},complete:function(){var e,t,n,i,r,o,a,s,l,c=this.columns,u=this.options;if(u.complete){for(c.length>1&&(n=c.shift(),0===this.headerRow&&n.shift(),(e=n.isNumeric||n.isDatetime)||(t=n),n.isDatetime&&(i="datetime")),r=[],s=0;c.length>s;s++){for(0===this.headerRow&&(a=c[s].shift()),o=[],l=0;c[s].length>l;l++)o[l]=void 0!==c[s][l]?e?[n[l],c[s][l]]:c[s][l]:null;r[s]={name:a,data:o}}u.complete({xAxis:{categories:t,type:i},series:r})}}}),e.Data=n,e.data=function(e){return new n(e)}})(Highcharts);