OpenLayers.Geometry=OpenLayers.Class({id:null,parent:null,bounds:null,initialize:function(){this.id=OpenLayers.Util.createUniqueID(this.CLASS_NAME+"_")},destroy:function(){this.id=null,this.bounds=null},clone:function(){return new OpenLayers.Geometry},setBounds:function(e){e&&(this.bounds=e.clone())},clearBounds:function(){this.bounds=null,this.parent&&this.parent.clearBounds()},extendBounds:function(e){var t=this.getBounds();t?this.bounds.extend(e):this.setBounds(e)},getBounds:function(){return null==this.bounds&&this.calculateBounds(),this.bounds},calculateBounds:function(){},distanceTo:function(){},getVertices:function(){},atPoint:function(e,t,i){var n=!1,r=this.getBounds();if(null!=r&&null!=e){var o=null!=t?t:0,s=null!=i?i:0,a=new OpenLayers.Bounds(this.bounds.left-o,this.bounds.bottom-s,this.bounds.right+o,this.bounds.top+s);n=a.containsLonLat(e)}return n},getLength:function(){return 0},getArea:function(){return 0},getCentroid:function(){return null},toString:function(){return OpenLayers.Format.WKT.prototype.write(new OpenLayers.Feature.Vector(this))},CLASS_NAME:"OpenLayers.Geometry"}),OpenLayers.Geometry.fromWKT=function(e){var t=arguments.callee.format;t||(t=new OpenLayers.Format.WKT,arguments.callee.format=t);var i,n=t.read(e);if(n instanceof OpenLayers.Feature.Vector)i=n.geometry;else if(OpenLayers.Util.isArray(n)){for(var r=n.length,o=Array(r),s=0;r>s;++s)o[s]=n[s].geometry;i=new OpenLayers.Geometry.Collection(o)}return i},OpenLayers.Geometry.segmentsIntersect=function(e,t,i){var n=i&&i.point,r=i&&i.tolerance,o=!1,s=e.x1-t.x1,a=e.y1-t.y1,l=e.x2-e.x1,c=e.y2-e.y1,u=t.y2-t.y1,h=t.x2-t.x1,d=u*l-h*c,p=h*a-u*s,f=l*a-c*s;if(0==d)0==p&&0==f&&(o=!0);else{var m=p/d,g=f/d;if(m>=0&&1>=m&&g>=0&&1>=g)if(n){var y=e.x1+m*l,v=e.y1+m*c;o=new OpenLayers.Geometry.Point(y,v)}else o=!0}if(r){var b;if(o){if(n){var x,y,v,C=[e,t];e:for(var _=0;2>_;++_){x=C[_];for(var w=1;3>w;++w)if(y=x["x"+w],v=x["y"+w],b=Math.sqrt(Math.pow(y-o.x,2)+Math.pow(v-o.y,2)),r>b){o.x=y,o.y=v;break e}}}}else{var S,E,y,v,k,T,C=[e,t];e:for(var _=0;2>_;++_){S=C[_],E=C[(_+1)%2];for(var w=1;3>w;++w)if(k={x:S["x"+w],y:S["y"+w]},T=OpenLayers.Geometry.distanceToSegment(k,E),r>T.distance){o=n?new OpenLayers.Geometry.Point(k.x,k.y):!0;break e}}}}return o},OpenLayers.Geometry.distanceToSegment=function(e,t){var i,n,r=e.x,o=e.y,s=t.x1,a=t.y1,l=t.x2,c=t.y2,u=l-s,h=c-a,d=(u*(r-s)+h*(o-a))/(Math.pow(u,2)+Math.pow(h,2));return 0>=d?(i=s,n=a):d>=1?(i=l,n=c):(i=s+d*u,n=a+d*h),{distance:Math.sqrt(Math.pow(i-r,2)+Math.pow(n-o,2)),x:i,y:n}};