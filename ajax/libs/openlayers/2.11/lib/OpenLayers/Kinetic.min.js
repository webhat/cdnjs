OpenLayers.Kinetic=OpenLayers.Class({threshold:0,interval:10,deceleration:.0035,nbPoints:100,delay:200,points:void 0,timerId:void 0,initialize:function(e){OpenLayers.Util.extend(this,e)},begin:function(){clearInterval(this.timerId),this.timerId=void 0,this.points=[]},update:function(e){this.points.unshift({xy:e,tick:(new Date).getTime()}),this.points.length>this.nbPoints&&this.points.pop()},end:function(e){for(var t,i,n=(new Date).getTime(),r=0,o=this.points.length;o>r&&(i=this.points[r],!(n-i.tick>this.delay));r++)t=i;if(t){var s=(new Date).getTime()-t.tick,a=Math.sqrt(Math.pow(e.x-t.xy.x,2)+Math.pow(e.y-t.xy.y,2)),l=a/s;if(!(0==l||this.threshold>l)){var c=Math.asin((e.y-t.xy.y)/a);return t.xy.x<=e.x&&(c=Math.PI-c),{speed:l,theta:c}}}},move:function(e,t){var i=e.speed,n=Math.cos(e.theta),r=-Math.sin(e.theta),o=0,s=(new Date).getTime(),a=0,l=0,c=function(){if(null!=this.timerId){o+=this.interval;var e=(new Date).getTime()-s,c=(o+e)/2,h=-this.deceleration*Math.pow(c,2)/2+i*c,u=h*n,d=h*r,p={};p.end=!1;var f=-this.deceleration*c+i;0>=f&&(clearInterval(this.timerId),this.timerId=null,p.end=!0),p.x=u-a,p.y=d-l,a=u,l=d,t(p.x,p.y,p.end)}};this.timerId=window.setInterval(OpenLayers.Function.bind(c,this),this.interval)},CLASS_NAME:"OpenLayers.Kinetic"});