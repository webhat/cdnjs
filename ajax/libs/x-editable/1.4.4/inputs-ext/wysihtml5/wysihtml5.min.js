(function(t){"use strict";var e=function(r){this.init("wysihtml5",r,e.defaults),this.options.wysihtml5=t.extend({},e.defaults.wysihtml5,r.wysihtml5)};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){var e,r=t.Deferred();return this.$input.attr("id","textarea_"+(new Date).getTime()),this.setClass(),this.setAttr("placeholder"),t.extend(this.options.wysihtml5,{events:{load:function(){r.resolve()}}}),this.$input.wysihtml5(this.options.wysihtml5),e=/msie\s*(8|7|6)/.test(navigator.userAgent.toLowerCase()),e&&this.$input.before("<br><br>"),r.promise()},value2html:function(e,r){t(r).html(e)},html2value:function(t){return t},value2input:function(t){this.$input.data("wysihtml5").editor.setValue(t,!0)},activate:function(){this.$input.data("wysihtml5").editor.focus()}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:"<textarea></textarea>",inputclass:"editable-wysihtml5",placeholder:null,wysihtml5:{stylesheets:!1}}),t.fn.editabletypes.wysihtml5=e})(window.jQuery);